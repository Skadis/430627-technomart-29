const feedbackButton=document.querySelector(".button-feedback"),feedbackPopup=document.querySelector(".modal-feedback"),feedbackClose=feedbackPopup.querySelector(".modal-close"),feedbackForm=feedbackPopup.querySelector(".feedback-form"),nameField=feedbackPopup.querySelector(".feedback-field-name"),emailField=feedbackPopup.querySelector(".feedback-field-email"),messageField=feedbackPopup.querySelector(".feedback-field-message"),mapLink=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");let storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email"),storageMessage=localStorage.getItem("message"),isStorageSupport=!0;try{storageName=localStorage.getItem("name");let a=localStorage.getItem("email"),b=localStorage.getItem("message")}catch(a){isStorageSupport=!1}feedbackButton.addEventListener("click",function(a){a.preventDefault(),feedbackPopup.classList.add("modal-show"),storageName&&(nameField.value=storageName),storageEmail&&(emailField.value=storageEmail),storageMessage&&(messageField.value=storageMessage)}),feedbackClose.addEventListener("click",function(a){a.preventDefault(),feedbackPopup.classList.remove("modal-show"),feedbackClose.classList.remove("modal-error")}),feedbackForm.addEventListener("submit",function(a){nameField.value&&emailField.value&&messageField.value?isStorageSupport&&(localStorage.setItem("name",nameField.value),localStorage.setItem("email",emailField.value),localStorage.setItem("message",messageField.value)):(a.preventDefault(messageField.value),feedbackPopup.classList.remove("modal-error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("modal-error"))}),mapLink.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&feedbackForm.classList.contains("modal-show")&&(a.preventDefault(),feedbackForm.classList.remove("modal-show"),feedbackPopup.classList.remove("modal-error"))});const slides=document.querySelectorAll(".features-slider-item"),dots=document.querySelectorAll(".features-slider-dot"),sliderDots=document.querySelectorAll(".features-slider-dot"),arrowRight=document.querySelector(".features-slider-arrow-right"),arrowLeft=document.querySelector(".features-slider-arrow-left");let count=1;arrowRight.addEventListener("click",function(){dots[count].classList.remove("active"),slides[count].classList.remove("active-slide"),count++,count>=slides.length&&(count=0),dots[count].classList.add("active"),slides[count].classList.add("active-slide")}),arrowLeft.addEventListener("click",function(){dots[count].classList.remove("active"),slides[count].classList.remove("active-slide"),0>=count&&(count=slides.length),count--,dots[count].classList.add("active"),slides[count].classList.add("active-slide")});const addLinks=document.querySelectorAll(".catalog-button-buy"),bookmarkCount=document.querySelector(".bookmark-count"),cartCount=document.querySelector(".cart-count"),bookmarkLinks=document.querySelectorAll(".catalog-button-bookmark"),cartLink=document.querySelector(".cart");for(let a of addLinks)a.addEventListener("click",function(a){a.preventDefault(),cartCount.innerText++,!cartLink.classList.contains("cart-active")&&0<cartCount.innerText&&cartLink.classList.add("cart-active")});for(let a of bookmarkLinks)a.addEventListener("click",function(a){a.preventDefault(),bookmarkCount.innerText++});